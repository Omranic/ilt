{% assign pages = site.pages | where:"chapter", page.chapter  %}
{% assign pages = pages | sort:"index"  %}

{% if page != pages.first  %}
  {% assign previous-index = page.index | minus:1  %}
  {% assign previous-title = pages[previous-index].title %}
  {% assign previous-url = pages[previous-index].url | prepend:site.baseurl %}
{% endif %}

{% if page != pages.last  %}
  {% assign next-index = page.index | plus:1  %}
  {% assign next-title = pages[next-index].title %}
  {% assign next-url = pages[next-index].url | prepend:site.baseurl %}
{% endif %}

<!-- semantic elements are not supported by IE < 9 -->
<div class="header">

  <a href="{{previous-url}}" title="{{previous-title}}">
  {% if previous-url  %}
    <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
    </svg>
  {% endif %}
  </a>

  <a href="{{site.baseurl}}" title="Return to home page">
    <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      <path d="M0 0h24v24H0z" fill="none"/>
    </svg>
  </a>

  <a href="{{next-url}}" title="{{next-title}}">
  {% if next-url %}
    <svg fill="#FFFFFF" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
    </svg>
  {% endif %}
  </a>

  <!-- No h1 in header for smaller viewports -->
  <h1>{{page.chapter}}</h1>

</div>
